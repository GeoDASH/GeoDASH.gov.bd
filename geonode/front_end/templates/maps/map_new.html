 {% extends "site_base.html" %} {% load i18n %} {% load base_tags %} {% block title %} {% trans "New Map" %} - {{ block.super }} {% endblock %} 
 {% block head %}
 {% include 'Templates/_base-headers.html' %}
 {% endblock %}
  {% block middle %}
<div class="surfgis" ng-app="appModule" ng-click="bodyClicked()">
    <div class="application-font all-children-application-font" ng-controller="appController" ng-class='{"draft": mapAccessLevel.IsPublic, "not-draft": !mapAccessLevel.IsPublic}'>
       

        <div class="layout-content">
            <div class="layout-left donot-print" ng-style="layout.leftStyle">
                <div ng-show="layout.leftVisible">
                    <div class="titleBar">
                        <div class="arrow-left-container" ng-click="layout.setLeftVisible(false)">
                            <button class="icon icon18 icon-arrow-left"></button>
                        </div>
                        Data layers
                    </div>

                    <div>
                        <div data-ng-controller="treeController">
                            <div class="layer-buttons">
                                <!-- <button class="icon add-layer " draft-only ng-disabled="isAttributeGridOn" ng-click="addBlankLayer()" title="Add Blank Layer"></button> -->
                                <button class="icon delete-layer" draft-only ng-click="deleteSelectedLayer()" ng-disabled="!enableRemove()" title="Remove active layer">
                                    </button>
                                <!-- <button class="icon" ng-disabled="!enableZoom()" id="zoom-to-layer" ng-click="zoomToSelectedLayer()" title="Zoom to active layer">
                                        <i class="fa fa-search-plus" aria-hidden="true"></i>                                        
                                </button> -->
                                <!-- <button class="icon download" draft-only ng-click="downloadSelectedLayer()" ng-disabled="!enableDownload()" title="Download active layer's data">
                                    </button> -->
                                <button draft-only class="icon properties" ng-disabled="!enableProperties()" ng-click="showProperties(0)" title="Active layer properties">
                                    </button>
                                <button class="icon attribute-grid" ng-disabled="!enableAttributeGrid()" ng-click="showAttributeGrid()" title="Attribute grid">
                                    </button>
                                <!-- <button draft-only class="icon icon-visualization" ng-disabled="!enableVisualization()" ng-click="showVisualizationWindow()" title="Visualization">
                                    </button> -->
                            </div>
                            <div class="leftColumnContent">
                                <!-- <button class="icon icon24 icon-download-project" draft-only style="width: 26px; height: 30px; float: right; margin: 0 5px 0 3px;" ng-click="downloadWorkingProject()" ng-disabled="!enableDownloadProject()" title="Download Map Data">
                                    </button> -->
                                <div class="projectName" style="height: 24px; line-height: 26px; cursor: default" ng-attr-title="[{ProjectName}]">
                                    Working Map: [{mapService.getMapName() || "Untitled"}]

                                </div>
                                <div class="tree-angle" style="display: inline-block">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div ng-hide="layout.leftVisible" class="">
                    <div class="titleBar nopadding">
                        <div class="arrow-right-container" ng-click="layout.setLeftVisible(true)">
                            <button class="icon icon18 icon-arrow-right"></button>
                        </div>
                    </div>
                </div>
            </div>
            <div id="mainContent" class="layout-center donot-print" ng-style="layout.centerStyle">



                    <div class="navbar" style="min-height: 36px;margin-bottom:0;" ng-cloak ng-controller="controlButtonsController">
                            <div class="navbar-inner map-toolbar">
                                
                                    
                                        <location-search></location-search>
                                        <ul class="nav">
                
                                            <!-- <li draft-only>
                                                <edit-toggle-button></edit-toggle-button>
                                            </li> -->
                                            <!-- <li class="divider-vertical" draft-only></li> -->
                                            <!-- <li>
                                                <geo-location-toggle-button></geo-location-toggle-button>
                                            </li> -->
                                            <!-- <li class="divider-vertical" draft-only></li> -->
                                            <li>
                                                <navigation-history-buttons></navigation-history-buttons>
                                            </li>
                                            <li>
                                                <zoom-in-out-buttons> </zoom-in-out-buttons>
                                            </li>
                                            <li>
                                                <zoom-to-max-extent-button></zoom-to-max-extent-button>
                                            </li>
                                            <li>
                                                <zoom-to-extent-button></zoom-to-extent-button>
                                            </li>
                                            <li>
                                                <measurement-buttons></measurement-buttons>
                                            </li>
                                            <li>
                                                <set-marker></set-marker>
                                            </li>
                                            <li>
                                                <button class="control-button icon" ng-click="action.drawCircle()" title="Draw Circle"><i class="fa fa-circle-o" aria-hidden="true"></i>                                            </button>
                                            </li>

                                            <li class="divider-vertical" draft-only></li>
                                            <!-- <li draft-only>
                                                <button class="control-button icon" id="close-project" ng-click="action.showCloseProjectOptions()" ng-disabled="(mapService.isEmpty() && !mapService.getMapName()) || isAttributeGridOn" title="Close Map">
                                                    <i class="fa fa-times-circle-o" aria-hidden="true"></i>                                                    
                                                    </button>
                                            </li> -->
                                            <!-- <li draft-only>
                                                <button class="control-button icon" id="browse-projects" ng-disabled="isAttributeGridOn" ng-click="action.browseProject()" remove-focus title="Browse Maps">
                                                    <i class="fa fa-map-o" aria-hidden="true"></i>                                    
                                                    </button>
                                            </li> -->
                                            <!-- <li draft-only>
                                                <button class="control-button icon svg-ico-button" id="overpass-query" ng-disabled="isAttributeGridOn" ng-click="action.overpassApiQuery()" remove-focus title="Overpass Query">
                                                    
                                                    <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                                    viewBox="0 0 476.554 476.554" style="enable-background:new 0 0 476.554 476.554;" xml:space="preserve" class="svg-icon">
                                                 <g>
                                                   <g>
                                                     <path d="M263.877,100.431c-57.108,0-104.369,47.261-104.369,105.354s47.262,105.354,104.369,105.354
                                                           c58.092,0,104.369-47.261,104.369-105.354S320.985,100.431,263.877,100.431z M263.877,290.462
                                                           c-46.277,0-84.677-38.4-84.677-85.662s38.4-85.662,84.677-85.662c47.261,0,84.677,38.4,84.677,85.662
                                                           S310.154,290.462,263.877,290.462z"/>
                                                   </g>
                                                 </g>
                                                 <g>
                                                   <g>
                                                     <rect x="337.755" y="274.671" transform="matrix(0.7119 -0.7023 0.7023 0.7119 -103.8152 327.7919)" width="19.693" height="31.508"/>
                                                   </g>
                                                 </g>
                                                 <g>
                                                   <g>
                                                     <path d="M375.139,275.693L330.831,320l101.415,102.4l44.308-44.308L375.139,275.693z M358.4,320l16.738-16.739l73.846,74.831
                                                           l-16.738,16.739L358.4,320z"/>
                                                   </g>
                                                 </g>
                                                 <g>
                                                   <g>
                                                     <polygon points="403.692,267.815 403.692,1.969 0,1.969 0,474.585 324.923,474.585 388.923,415.508 375.139,400.739 
                                                           317.046,454.892 19.692,454.892 19.692,21.662 384,21.662 384,267.815 		"/>
                                                   </g>
                                                 </g>
                                                 <g>
                                                   <g>
                                                     <rect x="59.077" y="51.2" width="128" height="19.692"/>
                                                   </g>
                                                 </g>
                                                 <g>
                                                   <g>
                                                     <rect x="64" y="129.969" width="73.846" height="19.692"/>
                                                   </g>
                                                 </g>
                                                 <g>
                                                   <g>
                                                     <rect x="65.969" y="341.662" width="124.062" height="19.692"/>
                                                   </g>
                                                 </g>
                                                 <g>
                                                   <g>
                                                     <rect x="59.077" y="395.815" width="236.308" height="19.692"/>
                                                   </g>
                                                 </g>
                                                 <g></g>
                                                 <g></g>
                                                 <g></g>
                                                 <g></g>
                                                 <g></g>
                                                 <g></g>
                                                 <g></g>
                                                 <g></g>
                                                 <g></g>
                                                 <g></g>
                                                 <g></g>
                                                 <g></g>
                                                 <g></g>
                                                 <g></g>
                                                 <g></g>
                                               </svg>
                                                    
                                                    </button>


                                                    <div class="dropBox directions" style="right: -55px;">
                                                            
                                                                                                                        <div class="arrow-up"></div>
                                                            
                                                                                                                       
                                                                                                                                
                                                                                                                                
                                                                                                                    
                                                                                                                                                                                              
                                                            
                                                                                                                              <form class="form-inline ng-pristine ng-valid" style="margin-bottom: 25px;">
                                                                                                                                    
                                                                                                                                <textarea class="form-control" rows="3" style="width: 100%;margin-bottom:10px;"></textarea>

                                                                                                                                    <a href="" class="btn btn-gd-primary pull-right icon-btn-color" target="_self">
                                                                                                                                            Submit <i class="fa fa-arrow-right" aria-hidden="true"></i>                                                                    
                                                                                                                                        </a>
                                                                                                                                        
                                                                                                                                        <a href="" class="btn btn-default pull-right" target="_self" style="margin-right: 5px;">
                                                                                                                                                Cancel <i class="fa fa-times" aria-hidden="true"></i>                                                                                                                                                
                                                                                                                                            </a>
                                                                                                                                
                                                                                                                              </form>
                                                            
                                                            
                                                                                                                              <div>
                                                                                                                                    
                                                                                                                                    
                                                                                                                                 
                                                                                                                                    
                                                                                                                                    </div>
                                                            
                                                                                                                                   
                                                            
                                                                                                                                   
                                                            
                                                                                                                             
                                                            
                                                                                                                </div>


                                            </li> -->
                                            <li draft-only>
                                                <button class="control-button icon" id="save" data-ng-click="action.saveProject()" ng-disabled="!enable.saveProject()" title="Save Map">
                                                    <i class="fa fa-floppy-o" aria-hidden="true"></i>                                    
                                                    </button>
                                            </li>

                                          

                                            <li draft-only>
                                                <!-- @* <button class="control-button icon icon32 icon-print" data-ng-click="action.printPreview()" title="Print">
                                                        <span>Print
                                                            <br />
                                                            Map
                                                        </span>
                                                    </button>*@ -->
                                                <button class="control-button icon" data-ng-click="action.printPreview()" title="Print Map">
                                                    <i class="fa fa-print" aria-hidden="true"></i>                                    
                                                       
                                                    </button>
                
                                            </li>
                                            <li class="divider-vertical" draft-only></li>
                                            <li draft-only>
                                                <button class="control-button icon" id="browse-data" ng-click="action.browseData()" ng-disabled="isAttributeGridOn" remove-focus title="Browse Data">
                                                    <i class="fa fa-database" aria-hidden="true"></i>                                    
                                                    </button>
                                            </li>
                                            <li class="divider-vertical" draft-only></li>
                                            <li>
                                                <!-- <button class="control-button icon icon32 icon-help" ng-click="action.openHelp('Url.Action(" Help ", "Document ")')" title="Open Help">
                                                        <span>Help</span>
                                                    </button> -->
                                            </li>

                                            <!-- <li draft-only>
                                                    <button class="control-button icon" id="save" data-ng-click="" title="Directions">
                                                        <i class="fa fa-car" aria-hidden="true"></i>                                                        
                                                        </button>
                                                  

                                                    <div class="dropBox directions">

                                                            <div class="arrow-up"></div>

                                                           
                                                                    
                                                                    
                                                            <form class="form-inline" style="margin-bottom: 15px;">
                                                                    <div class="form-group" style="width: 100%;">
                                                                      <label class="sr-only" for="exampleInputAmount">Enter starting point</label>
                                                                      
                                                                      <div class="input-group" style="width: 100%;">
                                                                            <i class="fa fa-ellipsis-v" aria-hidden="true" style="position: absolute;left:20px;top:32px;font-size:22px;color:#8a8a8a"></i>  
                                                                        <div class="input-group-addon" style="width: 10px;"><i class="fa fa-dot-circle-o" aria-hidden="true"></i>                                                                        </div>
                                                                        <input type="text" class="form-control" id="exampleInputAmount" placeholder="Enter starting point">

                                                                        
                                                                       
                                                                      </div>
                                                                    </div>
                                                                    
                                                                  </form>

                                                                                                                                  

                                                                  <form class="form-inline" style="margin-bottom: 25px;">
                                                                    <div class="form-group" style="width: 100%;">
                                                                      <label class="sr-only" for="exampleInputAmount">Enter Destination</label>
                                                                      
                                                                      <div class="input-group" style="width: 100%;">
                                                                        <div class="input-group-addon" style="width: 10px;"><i class="fa fa-map-marker" aria-hidden="true"></i>                                                                        </div>
                                                                        <input type="text" class="form-control" id="exampleInputAmount" placeholder="Enter Destination">
                                                                       
                                                                        <span class="bar"></span>

                                                                      </div>
                                                                    </div>
                                                                    
                                                                  </form>


                                                                  <div>
                                                                        
                                                                        
                                                                     
                                                                        
                                                                        </div>

                                                                        <a href="" class="btn btn-gd-primary pull-right icon-btn-color" target="_self">
                                                                                GET DIRECTIONS <i class="fa fa-arrow-right" aria-hidden="true"></i>                                                                    
                                                                            </a>

                                                                        <div class="btn-group btn-group-justified" role="group" aria-label="Justified button group" style="padding-left: 44px;width: 204px;"> 
                                                                                <a href="#" class="btn btn-default" role="button"><i class="fa fa-car" aria-hidden="true"></i></a> 
                                                                                <a href="#" class="btn btn-success" role="button"><i class="fa fa-bus" aria-hidden="true"></i> </a> 
                                                                                <a href="#" class="btn btn-default" role="button"><i class="fa fa-male" aria-hidden="true"></i></a> 
                                                                            </div>



                                                                 

                                                    </div>


                                                </li> -->

                                        </ul>
                                   
                                    <!-- /.nav-collapse -->
                               
                            </div>
                            <!-- /navbar-inner -->
                        </div>


                <div class="feature-edit-button-container donot-print" ng-init="showLegend=true" ng-show="isEditing()">
                    <feature-edit-buttons></feature-edit-buttons>
                    <location-capture-buttons></location-capture-buttons>
                    <feature-redo-undo-buttons></feature-redo-undo-buttons>
                </div>

                <visualization-legend></visualization-legend>

                <map-loading-icon></map-loading-icon>
                <zoom-level-display></zoom-level-display>
                <base-map-switcher></base-map-switcher>

                <div id="map_canvas">
                    <div id="gmap" class="map">
                    </div>
                    <div id="olmap" class="map">
                    </div>
                </div>
            </div>
            <div class="layout-right donot-print" ng-style="layout.rightStyle" ng-if="!layout.isRightPaneHidden">
                <div ng-show="layout.rightVisible">

                    <div class="titleBar text-left" style="padding-right: 8px; padding-left: 0">

                        <div class="arrow-right-container" ng-click="layout.setRightVisible(false)">
                            <button class="icon icon18 icon-arrow-right"></button>
                        </div>
                        Attributes
                    </div>

                    <div class="content">
                        <div ng-hide="isAttributeGridOn" property-grid options="attributeTableOptions" ng-click="$event.stopPropagation()">
                        </div>
                    </div>

                    <div class="feature-image-thumbnail-pane" ng-controller="imagePreviewController">
                        <div ng-if="hasFeature()">
                            <div class="featureImageHeader">
                                <button ng-if="!isReadonly()" class="btn btn-sm btn-primary" draft-only ng-click="openAttachModal()">
                                       <i class="fa fa-plus fa-fw"></i>Add File
                                    </button>
                            </div>

                            <div ng-if="getImages().length == undefined || getImages().length == 0" style="text-align: center; margin-top: 50px;">
                                <div class="alert" style="margin: 0 10px;">
                                    <span ng-if="getImages().length == undefined"><i class="fa fa-spinner fa-spin"></i></span>
                                    <span ng-if="getImages().length == 0">No file available
                                        </span>
                                </div>
                            </div>
                            <carousel ng-if="!isLargeImageViewOn" interval="-1" style="cursor: pointer;">
                                <slide ng-repeat="image in getImages()" active="image.active">
                                    <img ng-src="[{image.url}]" style="margin:auto;min-height: 100px;max-height: 140px;" ng-click="showLargeImage()" />
                                    <h6 class="carousel-title">[{$index+1}]/[{getImages().length}]</h6>
                                </slide>
                            </carousel>
                        </div>
                    </div>
                </div>
                <div ng-hide="layout.rightVisible">
                    <div class="titleBar nopadding">
                        <div class="arrow-right-container" ng-click="layout.setRightVisible(true)">
                            <button class="icon icon18 icon-arrow-left"></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="location-search-display-popup" class="surf-popup">
            <label class="addtolayer">
                    <button class="btn btn-small"><i class="fa fa-plus"></i> Add to layer</button>
                </label>

            <label class="address"></label>
            <label class="latlng"></label>
        </div>
    </div>
    {% endblock %} {% block footer %}{% endblock %}